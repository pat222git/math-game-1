<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Math Equation Challenge</title>
 <link rel="stylesheet" href="index.css">
  <style>@view-transition { navigation: auto; }</style>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
 </head>
 <body>
  <div class="container"><!-- Screen 1: Welcome Screen -->
   <div id="screen1" class="screen active">
    <h1 class="title">ðŸ§® Math Equation Challenge</h1>
    <div class="instructions"><strong>Game Instructions:</strong><br><br>
      In each round, you get 6 randomly generated numbers from 1-16. Please make as many equations as possible from any of these numbers (each one to be used once only) and any of math operations: addition (+), subtraction (-), multiplication (*), division (/), and parentheses ( ). You get 5 rounds in each game.
    </div>
    <p style="font-size: 1.2rem; margin: 30px 0; color: #4a5568;">Do you want to see a demo of the game?</p><button class="button" onclick="showDemo()">Show Demo</button> <button class="button secondary" onclick="showNicknameScreen()">Start Game</button>
   </div><!-- Nickname Input Screen -->
   <div id="nicknameScreen" class="screen">
    <h1 class="title">ðŸ§® Math Equation Challenge</h1>
    <p style="font-size: 1.3rem; margin: 30px 0; color: #4a5568;">Please input your unique nickname<br><span style="font-size: 1rem; color: #718096;">(6-20 characters, letters/numbers only, no spaces)</span></p>
    <div style="margin: 30px 0;"><input type="text" id="nicknameInput" class="equation-input" placeholder="Enter your nickname" minlength="6" maxlength="20" style="width: 300px;">
    </div>
    <p style="font-size: 1.1rem; margin: 20px 0; color: #2d3748;">You will get higher scores with more integers used in an equation. Go for all 6 integers to earn a special bonus ðŸ˜Š!</p>
    <button class="button" onclick="startGameWithNickname()">Start Game</button> <button class="button secondary" onclick="showScreen('screen1')">Back</button>
   </div><!-- Demo Screen -->
   <div id="demoScreen" class="screen">
    <h1 class="title">ðŸ§® Math Equation Challenge - Demo</h1>
    <div class="demo-area">
     <h3 style="margin-bottom: 20px; color: #4a5568;">Demo with integers: [6, 4, 7, 3, 13, 5]</h3>
     <div class="integers-display">
      <div class="integer-box">
       6
      </div>
      <div class="integer-box">
       4
      </div>
      <div class="integer-box">
       7
      </div>
      <div class="integer-box">
       3
      </div>
      <div class="integer-box">
       13
      </div>
      <div class="integer-box">
       5
      </div>
     </div>
     <h4 style="margin: 20px 0; color: #2d3748;">Example Equations:</h4>
     <div class="demo-equation">
      <div class="demo-input">
       6 + 4
      </div>
      <div class="equals-sign">
       =
      </div>
      <div class="demo-input">
       7 + 3
      </div>
      <div style="color: #48bb78; font-weight: bold;">
       âœ“ (10 = 10)
      </div>
     </div>
     <div class="demo-equation">
      <div class="demo-input">
       6 * 5
      </div>
      <div class="equals-sign">
       =
      </div>
      <div class="demo-input">
       (13-3) * (7-4)
      </div>
      <div style="color: #48bb78; font-weight: bold;">
       âœ“ (30 = 30)
      </div>
     </div>
    </div><button class="button" onclick="showNicknameScreen()">Start Playing!</button> <button class="button secondary" onclick="showScreen('screen1')">Back to Menu</button>
   </div><!-- Screen 2: Game Screen -->
   <div id="screen2" class="screen">
    <h1 class="title">ðŸ§® Math Equation Challenge</h1>
    <div class="game-info"><span id="gameRoundInfo">Game 1, Round 1, Equation 1</span> <span id="scoreInfo">Score: 0</span> <span id="timeInfo">Time: 0s</span>
    </div>
    <div class="integers-display" id="integersDisplay"><!-- Integers will be populated here -->
    </div>
    <div class="equation-area"><input type="text" id="leftField" class="equation-input" placeholder="Enter expression">
     <div class="equals-sign">
      =
     </div><input type="text" id="rightField" class="equation-input" placeholder="Enter expression">
    </div><button class="button" onclick="submitEquation()">SUBMIT</button>
    <div id="messageArea" class="message" style="display: none;"></div>
    <div style="margin-top: 30px;"><button class="button secondary" onclick="nextRound()">GO TO NEXT ROUND</button> <button class="button" onclick="showNewGameConfirmation()">START ANOTHER GAME</button> <button class="button danger" onclick="showQuitScreen()">QUIT</button>
    </div>
   </div><!-- New Game Confirmation Screen -->
   <div id="newGameScreen" class="screen">
    <h1 class="title">ðŸ§® Math Equation Challenge</h1>
    <div class="game-info"><span id="newGameScoreInfo">Current Score: 0</span> <span id="newGameTimeInfo">Current Time: 0s</span>
    </div><!-- Prominent summary box -->
    <div class="game-summary-box info">
     <h3>ðŸ“Š Current Game Summary</h3>
     <p class="summary-text" id="newGameSummary">You have earned <span class="highlight-score">0</span> points</p>
    </div>
    <p style="font-size: 1.3rem; margin: 40px 0; color: #4a5568;">Do you want to start another game?<br>If you want to keep this game data, press No and then Quit.</p><button class="button success" onclick="startNewGame()">Yes</button> <button class="button secondary" onclick="showScreen('screen2')">No</button>
   </div><!-- Screen 3: Game Complete -->
   <div id="screen3" class="screen">
    <h1 class="title">ðŸ§® Math Equation Challenge</h1>
    <div class="game-info"><span id="finalGameInfo">Game 1 Complete</span> <span id="finalScoreInfo">Final Score: 0</span> <span id="finalTimeInfo">Total Time: 0s</span>
    </div><!-- Prominent summary box -->
    <div class="game-summary-box success">
     <h3>ðŸŽ‰ Game Complete!</h3>
     <p class="summary-text" id="gameCompleteSummary">You earned <span class="highlight-score">0</span> points in <span class="highlight-time">0</span> seconds!</p>
    </div>
    <div class="congratulations">
     <h2>ðŸŽ‰ Congratulations!</h2>
     <p id="congratsMessage">You have earned 0 points in this game!</p>
     <p style="margin-top: 15px;">Do you want to continue?</p>
    </div><button class="button success" onclick="startNewGame()">Start Another Game</button> <button class="button secondary" onclick="showQuitScreen()">Quit</button>
   </div><!-- Screen 4: Quit Screen -->
   <div id="screen4" class="screen">
    <h1 class="title">ðŸ§® Math Equation Challenge</h1>
    <div class="game-info"><span id="quitScoreInfo">Last Score: 0</span> <span id="quitTimeInfo">Last Time: 0s</span>
    </div><!-- Prominent summary box -->
    <div class="game-summary-box info">
     <h3>ðŸ“Š Current Game Summary</h3>
     <p class="summary-text" id="quitSummary">You earned <span class="highlight-score">0</span> points in <span class="highlight-time">0</span> seconds</p>
    </div>
    <p style="font-size: 1.3rem; margin: 40px 0; color: #4a5568;">Do you want to Quit?</p><button class="button" onclick="startNewGame()">Play Another Game</button> <button class="button danger" onclick="quitGame()">Quit</button>
   </div>
  </div>
 <script src="index.js"></script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9900400611938514',t:'MTc2MDcwODg3MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>